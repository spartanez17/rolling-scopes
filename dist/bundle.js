!function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i.r(t);class n{constructor(){}create(){let e=document.createElement("div");return e.innerHTML='\n            <header class="searchbox-wrapper control-width">\n                <form class="search-form" >\n                    <input id="input-line" class="search-input" type="text" placeholder="...Input text" name="search">\n                    <button id="search" data-input-button="search" type="submit">\n                    <i class="fa fa-search" data-input-button="search"></i>Search\n                    </button>\n                </form>\n            </header>   \n        ',e.firstElementChild}transform(){let e=document.getElementById("search");"search"===e.dataset.inputButton?(e.dataset.inputButton="clear",e.innerHTML='<i class="fa fa-trash-o aria-hidden="true" data-input-button="clear"></i>Clear'):(e.dataset.inputButton="search",e.innerHTML='<i class="fa fa-search aria-hidden="true" data-input-button="search"></i>Search')}}class s{constructor(){}create(){let e=document.createElement("div");return e.innerHTML='<main id="video-cont" class="videos-cont control-width">\n                                        <ul id="video-list" class="videos-list"></ul>\n                                    </main>',e.firstElementChild}addVideos(e){let t=e.items,i=document.getElementById("video-list");return t.forEach(e=>{i.innerHTML+=function(e){let t=document.createElement("div");return t.innerHTML+=`\n                <li id="${e.id.videoId}" class="videos-item" data-active="video-item">\n                    <div class="video-image-wr">\n                    <img src="${e.snippet.thumbnails.high.url}"\n                        alt="Youtube Image Preview">    \n                    </div>\n                    <div class="video-info" >\n                    <h3>${e.snippet.title}</h3>\n                    <p><i class="fa fa-user-circle-o" aria-hidden="true"></i>${e.snippet.channelTitle}</p>\n                    <ul>\n                        <li>${new Date(e.snippet.publishedAt).toLocaleString()}</li>\n                    </ul>\n                    </div>\n                </li>`,t.firstElementChild}(e).outerHTML}),i.firstElementChild}clear(){document.getElementById("video-list").innerHTML=""}}class a{constructor(){}create(){let e=document.createElement("div");return e.innerHTML='\n        <section id="loader" class="loader">\n          <div class="animation-cont control-width">\n            <div class="animation-item">\n                <i></i>\n            </div>\n            <div class="animation-item">\n                <i></i>\n            </div>\n            <div class="animation-item">\n                <i></i>\n            </div>\n            <div class="animation-item">\n                <i></i>\n            </div>\n            <div class="animation-item">\n                <i></i>\n            </div>\n          </div>\n        </section>',e.firstElementChild}show(){document.getElementById("loader").style.display="block"}hide(){document.getElementById("loader").style.display="none"}}function r(e,t,i){let n=e.split(" ").filter(e=>!!e).join("+"),s="";return i&&(s="pageToken="+i+"&"),`https://www.googleapis.com/youtube/v3/search?${s}part=snippet&type=video&maxResults=15&order=relevance&q=${n}&key=${t}`}const o=async e=>{try{return(await fetch(e)).json()}catch(e){throw new Error("There is no internet connection")}};class l{constructor(){}create(){let e=document.createElement("div");return e.innerHTML='<div id="modal" class="modal" style="display: none">\n            <div id="modal-cont" class="modal-dialog">\n            <div class="modal-content"> \n                <div class="modal-header">\n                <button id="close" type="button" class="close" data-dismiss="modal-close">\n                    <i class="fa fa-times" aria-hidden="true" data-dismiss="modal-close"></i>\n                </button>\n                </div>\n                <div id="frame" class="modal-body vertical-padding">\n                </div>\n            </div>\n            </div>\n        </div>',e.firstElementChild}async viewModal(e,t){let i=document.getElementById("modal");i.style.display="block",i.querySelector("#frame").innerHTML+=`<iframe id="player"\n                type="text/html"\n                allowFullscreen="true"\n                src="http://www.youtube.com/embed/${e}?enablejsapi=1frameborder="0"">\n            </iframe>`;let n=function(e,t){return`https://www.googleapis.com/youtube/v3/videos?part=snippet,contentDetails,statistics&id=${e}&key=${t}`}(e,t);await o(n).then(e=>{let t=e.items[0];i.querySelector("#modal-cont").innerHTML+=`\n                <div id="description" class="modal-footer">\n                    <div class="small-info">\n                    <ul class="info-container">\n                        <li class="title vertical-padding">${t.snippet.title}</li>\n                        <li class="channel vertical-padding"><i class="fa fa-user-circle-o" aria-hidden="true"></i>${t.snippet.channelTitle}</li>\n                    </ul>\n                    <ul class="info-container rats">\n                        <li class="rating views vertical-padding"><i class="fa fa-eye" aria-hidden="true"></i> ${t.statistics.viewCount}</li>\n                        <li class="rating like vertical-padding"><i class="fa fa-thumbs-up" aria-hidden="true"></i> ${t.statistics.likeCount}</li>\n                        <li class="rating dislike vertical-padding">${t.statistics.dislikeCount}</li>\n                    </ul>\n                    </div>\n                    <p class="description">${t.snippet.description}</p>\n                </div>`}).catch(e=>console.log(e.message))}closeModal(){let e=document.getElementById("modal");e.style.display="none";let t=e.querySelector("#frame");t.removeChild(t.lastChild);let i=e.querySelector("#modal-cont");i.removeChild(i.lastChild)}}class d{constructor(){}create(){let e=document.createElement("div");return e.innerHTML="<div id='oops' class='oops'></div>",e.firstElementChild}showError(e){document.getElementById("oops").innerHTML=e}}(new class{constructor(){this.key="AIzaSyDMS7J8iuz2KJ4CFsHL3Mkobc6MdoLvV5w",this.currSearchQuery,this.currentResponseObj={},this.isLoading=!1,this.searchBox=new n,this.videosContainer=new s,this.spinner=new a,this.videoModal=new l,this.requestError=new d}start(){let e=document.querySelector(".main-container");e.appendChild(this.searchBox.create()),e.appendChild(this.videosContainer.create()),e.appendChild(this.requestError.create()),e.appendChild(this.videoModal.create()),e.appendChild(this.spinner.create()),document.addEventListener("scroll",async e=>{let t=e.target.documentElement;if(t.clientHeight+t.scrollTop==t.scrollHeight)if(this.isLoading)this.spinner.show();else{this.videosContainer.addVideos(this.currentResponseObj),this.spinner.hide();let e=r(this.currSearchQuery,this.key,this.currentResponseObj.nextPageToken);this.isLoading=!0,await o(e).then(e=>{this.currentResponseObj=e,this.isLoading=!1,document.dispatchEvent(new Event("scroll"))}).catch(e=>this.requestError.showError(e.message))}}),document.getElementById("search").addEventListener("click",async e=>{if(e.preventDefault(),"search"===e.target.dataset.inputButton){let e=document.getElementById("input-line").value;if(e){this.currSearchQuery=e;let t=r(this.currSearchQuery,this.key);this.spinner.show();try{let e=await o(t);if(0===e.pageInfo.totalResults)throw new Error("Even YouTube doesn't know what you want :(");this.currentResponseObj=e,this.videosContainer.addVideos(this.currentResponseObj),this.searchBox.transform()}catch(e){this.requestError.showError(e),this.spinner.hide()}this.spinner.hide(),t=r(this.currSearchQuery,this.key,this.currentResponseObj.nextPageToken),this.isLoading=!0;try{let e=await o(t);this.isLoading=!1,this.currentResponseObj=e}catch(e){this.requestError.showError(e)}}}}),document.body.addEventListener("click",e=>{let t=e.target;console.log("doc"),"video-item"===t.dataset.active?(r(t.id,this.key),this.videoModal.viewModal(t.id,this.key)):"modal-close"===t.dataset.dismiss?this.videoModal.closeModal():"clear"===t.dataset.inputButton?(console.log("clear work"),this.videosContainer.clear(),this.searchBox.transform()):t.parentElement.dispatchEvent(new Event("click",{bubbles:!0,cancelable:!0}))},!0)}}).start()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVscy92aWV3LWNvbXBvbmVudHMvc2VhcmNoLWJveC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxzL3ZpZXctY29tcG9uZW50cy92aWRlb3MtY29udGFpbmVyLmpzIiwid2VicGFjazovLy8uL3NyYy9tb2R1bHMvdmlldy1jb21wb25lbnRzL3NwaW5uZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVscy9zZXJ2aWNlcy9yZXF1ZXN0LXByb3ZpZGVycy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxzL3ZpZXctY29tcG9uZW50cy92aWRlby1tb2RhbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxzL3ZpZXctY29tcG9uZW50cy9yZXF1ZXN0RXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9tb2R1bHMvYXBwLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsInZhbHVlIiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJTZWFyY2hCb3giLCJbb2JqZWN0IE9iamVjdF0iLCJzZWFyY2hCb3giLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lckhUTUwiLCJmaXJzdEVsZW1lbnRDaGlsZCIsImJ1dHRvbiIsImdldEVsZW1lbnRCeUlkIiwiZGF0YXNldCIsImlucHV0QnV0dG9uIiwiVmlkZW9zQ29udGFpbmVyIiwidmlkZW9zQ29udGFpbmVyIiwicmVzcG9uc2VPYmplY3QiLCJpdGVtcyIsInZpZGVvTGlzdCIsImZvckVhY2giLCJpdGVtIiwiZG9tRWxlbSIsImlkIiwidmlkZW9JZCIsInNuaXBwZXQiLCJ0aHVtYm5haWxzIiwiaGlnaCIsInVybCIsInRpdGxlIiwiY2hhbm5lbFRpdGxlIiwiRGF0ZSIsInB1Ymxpc2hlZEF0IiwidG9Mb2NhbGVTdHJpbmciLCJjcmVhdGVWaWRlb0VsZW1lbnQiLCJvdXRlckhUTUwiLCJTcGlubmVyIiwic3Bpbm5lciIsInN0eWxlIiwiZGlzcGxheSIsImNyZWF0ZVlvdVR1YmVTZWFyY2hVUkwiLCJxdWVyeSIsImtleSIsIm5leHRQYWdlVG9rZW4iLCJzZWFyY2hRdWVyeSIsInNwbGl0IiwiZmlsdGVyIiwid29yZCIsImpvaW4iLCJucHQiLCJzZW5kUmVxdWVzdCIsImFzeW5jIiwiZmV0Y2giLCJqc29uIiwiZXJyb3IiLCJFcnJvciIsInZpZGVvX21vZGFsX1ZpZGVvTW9kYWwiLCJtb2RhbCIsInF1ZXJ5U2VsZWN0b3IiLCJjcmVhdGVZb3VUdWJlVmlkZW9VUkwiLCJ0aGVuIiwicmVzcCIsInN0YXRpc3RpY3MiLCJ2aWV3Q291bnQiLCJsaWtlQ291bnQiLCJkaXNsaWtlQ291bnQiLCJkZXNjcmlwdGlvbiIsImNhdGNoIiwiY29uc29sZSIsImxvZyIsIm1lc3NhZ2UiLCJmcmFtZSIsInJlbW92ZUNoaWxkIiwibGFzdENoaWxkIiwiY29udGVudCIsIlJlcXVlc3RFcnJvciIsIm9vcHMiLCJ0aGlzIiwiY3VyclNlYXJjaFF1ZXJ5IiwiY3VycmVudFJlc3BvbnNlT2JqIiwiaXNMb2FkaW5nIiwidmlkZW9Nb2RhbCIsInJlcXVlc3RFcnJvciIsIm1haW5Db250YWluZXIiLCJhcHBlbmRDaGlsZCIsImNyZWF0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsInQiLCJ0YXJnZXQiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGllbnRIZWlnaHQiLCJzY3JvbGxUb3AiLCJzY3JvbGxIZWlnaHQiLCJzaG93IiwiYWRkVmlkZW9zIiwiaGlkZSIsImRpc3BhdGNoRXZlbnQiLCJFdmVudCIsInNob3dFcnJvciIsInByZXZlbnREZWZhdWx0IiwiaW5wdXRWYWx1ZSIsInJlc3BvbnNlIiwicGFnZUluZm8iLCJ0b3RhbFJlc3VsdHMiLCJ0cmFuc2Zvcm0iLCJib2R5IiwiYWN0aXZlIiwidmlld01vZGFsIiwiZGlzbWlzcyIsImNsb3NlTW9kYWwiLCJjbGVhciIsInBhcmVudEVsZW1lbnQiLCJidWJibGVzIiwiY2FuY2VsYWJsZSIsInN0YXJ0Il0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FDQUssY0FBQSxFQUNBQyxZQUFBLEVBQ0FDLElBQUFOLEtBTUFaLEVBQUFtQixFQUFBLFNBQUFqQixHQUNBWSxPQUFBQyxlQUFBYixFQUFBLGNBQWlEa0IsT0FBQSxLQUlqRHBCLEVBQUFxQixFQUFBLFNBQUFsQixHQUNBLElBQUFTLEVBQUFULEtBQUFtQixXQUNBLFdBQTJCLE9BQUFuQixFQUFBLFNBQzNCLFdBQWlDLE9BQUFBLEdBRWpDLE9BREFILEVBQUFVLEVBQUFFLEVBQUEsSUFBQUEsR0FDQUEsR0FJQVosRUFBQWEsRUFBQSxTQUFBVSxFQUFBQyxHQUFzRCxPQUFBVixPQUFBVyxVQUFBQyxlQUFBbkIsS0FBQWdCLEVBQUFDLElBR3RE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bkMsTUFFYSxnQkFBQStDLEVBQUE1RSxRQUFBZ0csUUFFYmhDLEtBQUFJLFdBQUE2QixhQUVhLFVBQUFyQixFQUFBNUUsUUFBQUMsYUFDYnNELFFBQUFDLElBQUEsY0FDQVEsS0FBQTdELGdCQUFBK0YsUUFDQWxDLEtBQUF2RSxVQUFBbUcsYUFHQWhCLEVBQUF1QixjQUFBZixjQUFBLElBQUFDLE1BQUEsU0FBdUVlLFNBQUEsRUFBQUMsWUFBQSxPQUU5RCxNRDdHVEMiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImV4cG9ydCBjbGFzcyBTZWFyY2hCb3gge1xuXG4gICAgY29uc3RydWN0b3IoKSB7IH1cblxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgbGV0IHNlYXJjaEJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBzZWFyY2hCb3guaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPGhlYWRlciBjbGFzcz1cInNlYXJjaGJveC13cmFwcGVyIGNvbnRyb2wtd2lkdGhcIj5cbiAgICAgICAgICAgICAgICA8Zm9ybSBjbGFzcz1cInNlYXJjaC1mb3JtXCIgPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgaWQ9XCJpbnB1dC1saW5lXCIgY2xhc3M9XCJzZWFyY2gtaW5wdXRcIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiLi4uSW5wdXQgdGV4dFwiIG5hbWU9XCJzZWFyY2hcIj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInNlYXJjaFwiIGRhdGEtaW5wdXQtYnV0dG9uPVwic2VhcmNoXCIgdHlwZT1cInN1Ym1pdFwiPlxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhIGZhLXNlYXJjaFwiIGRhdGEtaW5wdXQtYnV0dG9uPVwic2VhcmNoXCI+PC9pPlNlYXJjaFxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICAgICA8L2hlYWRlcj4gICBcbiAgICAgICAgYDtcbiAgICAgICAgcmV0dXJuIHNlYXJjaEJveC5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICB9XG5cbiAgICB0cmFuc2Zvcm0oKSB7XG4gICAgICAgIGxldCBidXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VhcmNoJyk7XG4gICAgICAgIGlmIChidXR0b24uZGF0YXNldC5pbnB1dEJ1dHRvbiA9PT0gJ3NlYXJjaCcpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5kYXRhc2V0LmlucHV0QnV0dG9uID0gJ2NsZWFyJztcbiAgICAgICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSAnPGkgY2xhc3M9XCJmYSBmYS10cmFzaC1vIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIGRhdGEtaW5wdXQtYnV0dG9uPVwiY2xlYXJcIj48L2k+Q2xlYXInO1xuICAgICAgICB9IFxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGJ1dHRvbi5kYXRhc2V0LmlucHV0QnV0dG9uID0gJ3NlYXJjaCc7XG4gICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gJzxpIGNsYXNzPVwiZmEgZmEtc2VhcmNoIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIGRhdGEtaW5wdXQtYnV0dG9uPVwic2VhcmNoXCI+PC9pPlNlYXJjaCc7XG4gICAgICAgIH1cbiAgICB9XG59IiwiZXhwb3J0IGNsYXNzIFZpZGVvc0NvbnRhaW5lciB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxuXG4gICAgY3JlYXRlKCkge1xuICAgICAgICBsZXQgdmlkZW9zQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHZpZGVvc0NvbnRhaW5lci5pbm5lckhUTUwgPSBgPG1haW4gaWQ9XCJ2aWRlby1jb250XCIgY2xhc3M9XCJ2aWRlb3MtY29udCBjb250cm9sLXdpZHRoXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsIGlkPVwidmlkZW8tbGlzdFwiIGNsYXNzPVwidmlkZW9zLWxpc3RcIj48L3VsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9tYWluPmA7XG4gICAgICAgIHJldHVybiB2aWRlb3NDb250YWluZXIuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgfVxuXG4gICAgYWRkVmlkZW9zKHJlc3BvbnNlT2JqZWN0KSB7XG4gICAgICAgIGxldCBpdGVtcyA9IHJlc3BvbnNlT2JqZWN0Lml0ZW1zO1xuICAgICAgICBsZXQgdmlkZW9MaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZpZGVvLWxpc3QnKTtcbiAgICAgICAgaXRlbXMuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICAgIHZpZGVvTGlzdC5pbm5lckhUTUwgKz0gY3JlYXRlVmlkZW9FbGVtZW50KGl0ZW0pLm91dGVySFRNTDtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB2aWRlb0xpc3QuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgfVxuXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIGxldCB2aWRlb0xpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmlkZW8tbGlzdCcpO1xuICAgICAgICB2aWRlb0xpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVWaWRlb0VsZW1lbnQoaXRlbSkge1xuICAgIGxldCBkb21FbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZG9tRWxlbS5pbm5lckhUTUwgKz0gYFxuICAgICAgICAgICAgICAgIDxsaSBpZD1cIiR7aXRlbS5pZC52aWRlb0lkfVwiIGNsYXNzPVwidmlkZW9zLWl0ZW1cIiBkYXRhLWFjdGl2ZT1cInZpZGVvLWl0ZW1cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInZpZGVvLWltYWdlLXdyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHtpdGVtLnNuaXBwZXQudGh1bWJuYWlscy5oaWdoLnVybH1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgYWx0PVwiWW91dHViZSBJbWFnZSBQcmV2aWV3XCI+ICAgIFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInZpZGVvLWluZm9cIiA+XG4gICAgICAgICAgICAgICAgICAgIDxoMz4ke2l0ZW0uc25pcHBldC50aXRsZX08L2gzPlxuICAgICAgICAgICAgICAgICAgICA8cD48aSBjbGFzcz1cImZhIGZhLXVzZXItY2lyY2xlLW9cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+JHtpdGVtLnNuaXBwZXQuY2hhbm5lbFRpdGxlfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgPHVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpPiR7bmV3IERhdGUoaXRlbS5zbmlwcGV0LnB1Ymxpc2hlZEF0KS50b0xvY2FsZVN0cmluZygpfTwvbGk+XG4gICAgICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvbGk+YDtcbiAgICByZXR1cm4gZG9tRWxlbS5maXJzdEVsZW1lbnRDaGlsZDtcblxufVxuIiwiZXhwb3J0IGNsYXNzIFNwaW5uZXIge1xuXG4gICAgY29uc3RydWN0b3IoKSB7IH1cblxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgbGV0IHNwaW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgc3Bpbm5lci5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxzZWN0aW9uIGlkPVwibG9hZGVyXCIgY2xhc3M9XCJsb2FkZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiYW5pbWF0aW9uLWNvbnQgY29udHJvbC13aWR0aFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFuaW1hdGlvbi1pdGVtXCI+XG4gICAgICAgICAgICAgICAgPGk+PC9pPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYW5pbWF0aW9uLWl0ZW1cIj5cbiAgICAgICAgICAgICAgICA8aT48L2k+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhbmltYXRpb24taXRlbVwiPlxuICAgICAgICAgICAgICAgIDxpPjwvaT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFuaW1hdGlvbi1pdGVtXCI+XG4gICAgICAgICAgICAgICAgPGk+PC9pPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYW5pbWF0aW9uLWl0ZW1cIj5cbiAgICAgICAgICAgICAgICA8aT48L2k+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9zZWN0aW9uPmA7XG4gICAgICAgIHJldHVybiBzcGlubmVyLmZpcnN0RWxlbWVudENoaWxkO1xuICAgIH1cblxuICAgIHNob3coKSB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkZXInKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB9XG4gICAgXG4gICAgaGlkZSgpe1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9hZGVyJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsgICAgICAgIFxuICAgIH1cbn0iLCJleHBvcnQgZnVuY3Rpb24gY3JlYXRlWW91VHViZVNlYXJjaFVSTChxdWVyeSwga2V5LCBuZXh0UGFnZVRva2VuKSB7XG4gICAgbGV0IHNlYXJjaFF1ZXJ5ID0gcXVlcnkuc3BsaXQoJyAnKS5maWx0ZXIod29yZCA9PiAhIXdvcmQpLmpvaW4oJysnKTtcbiAgICBsZXQgbnB0ID0gJyc7XG4gICAgaWYgKG5leHRQYWdlVG9rZW4pIHtcbiAgICAgICAgbnB0ID0gJ3BhZ2VUb2tlbj0nICsgbmV4dFBhZ2VUb2tlbiArICcmJztcbiAgICB9XG4gICAgcmV0dXJuIGBodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS95b3V0dWJlL3YzL3NlYXJjaD8ke25wdH1wYXJ0PXNuaXBwZXQmdHlwZT12aWRlbyZtYXhSZXN1bHRzPTE1Jm9yZGVyPXJlbGV2YW5jZSZxPSR7c2VhcmNoUXVlcnl9JmtleT0ke2tleX1gO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlWW91VHViZVZpZGVvVVJMKGlkLCBrZXkpIHtcbiAgICByZXR1cm4gYGh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL3lvdXR1YmUvdjMvdmlkZW9zP3BhcnQ9c25pcHBldCxjb250ZW50RGV0YWlscyxzdGF0aXN0aWNzJmlkPSR7aWR9JmtleT0ke2tleX1gO1xufVxuXG5leHBvcnQgY29uc3Qgc2VuZFJlcXVlc3QgPSBhc3luYyAodXJsKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsKTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZXJlIGlzIG5vIGludGVybmV0IGNvbm5lY3Rpb24nKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBjcmVhdGVZb3VUdWJlVmlkZW9VUkwsIHNlbmRSZXF1ZXN0IH0gZnJvbSAnLi4vc2VydmljZXMvcmVxdWVzdC1wcm92aWRlcnMnO1xuXG5leHBvcnQgY2xhc3MgVmlkZW9Nb2RhbCB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHt9XG5cbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIGxldCBtb2RhbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBtb2RhbC5pbm5lckhUTUwgPSBcbiAgICAgICAgYDxkaXYgaWQ9XCJtb2RhbFwiIGNsYXNzPVwibW9kYWxcIiBzdHlsZT1cImRpc3BsYXk6IG5vbmVcIj5cbiAgICAgICAgICAgIDxkaXYgaWQ9XCJtb2RhbC1jb250XCIgY2xhc3M9XCJtb2RhbC1kaWFsb2dcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb250ZW50XCI+IFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwiY2xvc2VcIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJjbG9zZVwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsLWNsb3NlXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiZmEgZmEtdGltZXNcIiBhcmlhLWhpZGRlbj1cInRydWVcIiBkYXRhLWRpc21pc3M9XCJtb2RhbC1jbG9zZVwiPjwvaT5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGlkPVwiZnJhbWVcIiBjbGFzcz1cIm1vZGFsLWJvZHkgdmVydGljYWwtcGFkZGluZ1wiPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+YDtcbiAgICAgICAgcmV0dXJuIG1vZGFsLmZpcnN0RWxlbWVudENoaWxkO1xuICAgIH1cblxuICAgIGFzeW5jIHZpZXdNb2RhbCh2aWRlb0lkLCBrZXkpIHtcbiAgICAgICAgXG4gICAgICAgIGxldCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbCcpO1xuICAgICAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblxuICAgICAgICBtb2RhbC5xdWVyeVNlbGVjdG9yKCcjZnJhbWUnKS5pbm5lckhUTUwgKz1cbiAgICAgICAgICAgIGA8aWZyYW1lIGlkPVwicGxheWVyXCJcbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dC9odG1sXCJcbiAgICAgICAgICAgICAgICBhbGxvd0Z1bGxzY3JlZW49XCJ0cnVlXCJcbiAgICAgICAgICAgICAgICBzcmM9XCJodHRwOi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkLyR7dmlkZW9JZH0/ZW5hYmxlanNhcGk9MWZyYW1lYm9yZGVyPVwiMFwiXCI+XG4gICAgICAgICAgICA8L2lmcmFtZT5gO1xuXG5cbiAgICAgICAgbGV0IHVybCA9IGNyZWF0ZVlvdVR1YmVWaWRlb1VSTCh2aWRlb0lkLCBrZXkpO1xuICAgICAgICBhd2FpdCBzZW5kUmVxdWVzdCh1cmwpXG4gICAgICAgICAgICAudGhlbigocmVzcCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBpdGVtID0gcmVzcC5pdGVtc1swXTtcbiAgICAgICAgICAgICAgICBtb2RhbC5xdWVyeVNlbGVjdG9yKCcjbW9kYWwtY29udCcpLmlubmVySFRNTCArPSBgXG4gICAgICAgICAgICAgICAgPGRpdiBpZD1cImRlc2NyaXB0aW9uXCIgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNtYWxsLWluZm9cIj5cbiAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzPVwiaW5mby1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cInRpdGxlIHZlcnRpY2FsLXBhZGRpbmdcIj4ke2l0ZW0uc25pcHBldC50aXRsZX08L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwiY2hhbm5lbCB2ZXJ0aWNhbC1wYWRkaW5nXCI+PGkgY2xhc3M9XCJmYSBmYS11c2VyLWNpcmNsZS1vXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPiR7aXRlbS5zbmlwcGV0LmNoYW5uZWxUaXRsZX08L2xpPlxuICAgICAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJpbmZvLWNvbnRhaW5lciByYXRzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJyYXRpbmcgdmlld3MgdmVydGljYWwtcGFkZGluZ1wiPjxpIGNsYXNzPVwiZmEgZmEtZXllXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPiAke2l0ZW0uc3RhdGlzdGljcy52aWV3Q291bnR9PC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cInJhdGluZyBsaWtlIHZlcnRpY2FsLXBhZGRpbmdcIj48aSBjbGFzcz1cImZhIGZhLXRodW1icy11cFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT4gJHtpdGVtLnN0YXRpc3RpY3MubGlrZUNvdW50fTwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJyYXRpbmcgZGlzbGlrZSB2ZXJ0aWNhbC1wYWRkaW5nXCI+JHtpdGVtLnN0YXRpc3RpY3MuZGlzbGlrZUNvdW50fTwvbGk+XG4gICAgICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImRlc2NyaXB0aW9uXCI+JHtpdGVtLnNuaXBwZXQuZGVzY3JpcHRpb259PC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PmA7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChyZXNwKSA9PiBjb25zb2xlLmxvZyhyZXNwLm1lc3NhZ2UpKTtcbiAgICB9XG5cbiAgICBjbG9zZU1vZGFsKCkge1xuICAgICAgICBsZXQgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9kYWwnKTtcbiAgICAgICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgbGV0IGZyYW1lID0gbW9kYWwucXVlcnlTZWxlY3RvcignI2ZyYW1lJyk7XG4gICAgICAgIGZyYW1lLnJlbW92ZUNoaWxkKGZyYW1lLmxhc3RDaGlsZCk7XG4gICAgICAgIGxldCBjb250ZW50ID0gbW9kYWwucXVlcnlTZWxlY3RvcignI21vZGFsLWNvbnQnKTtcbiAgICAgICAgY29udGVudC5yZW1vdmVDaGlsZChjb250ZW50Lmxhc3RDaGlsZCk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIFJlcXVlc3RFcnJvciB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxuXG4gICAgY3JlYXRlKCkge1xuICAgICAgICBsZXQgb29wcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBvb3BzLmlubmVySFRNTCA9IGA8ZGl2IGlkPSdvb3BzJyBjbGFzcz0nb29wcyc+PC9kaXY+YDtcbiAgICAgICAgcmV0dXJuIG9vcHMuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgfVxuXG4gICAgc2hvd0Vycm9yKG1lc3NhZ2UpIHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29vcHMnKS5pbm5lckhUTUwgPSBtZXNzYWdlO1xuICAgIH1cbn0iLCJpbXBvcnQge0FwcH0gZnJvbSAnLi9tb2R1bHMvYXBwJztcblxubGV0IGFwcCA9IG5ldyBBcHAoKTtcbmFwcC5zdGFydCgpO1xuIiwiaW1wb3J0IHsgU2VhcmNoQm94IH0gZnJvbSAnLi92aWV3LWNvbXBvbmVudHMvc2VhcmNoLWJveCc7XG5pbXBvcnQgeyBWaWRlb3NDb250YWluZXIgfSBmcm9tICcuL3ZpZXctY29tcG9uZW50cy92aWRlb3MtY29udGFpbmVyJztcbmltcG9ydCB7IFNwaW5uZXIgfSBmcm9tICcuL3ZpZXctY29tcG9uZW50cy9zcGlubmVyJztcbmltcG9ydCB7IFZpZGVvTW9kYWwgfSBmcm9tICcuL3ZpZXctY29tcG9uZW50cy92aWRlby1tb2RhbCc7XG5pbXBvcnQgeyBSZXF1ZXN0RXJyb3IgfSBmcm9tICcuL3ZpZXctY29tcG9uZW50cy9yZXF1ZXN0RXJyb3InO1xuaW1wb3J0IHsgY3JlYXRlWW91VHViZVNlYXJjaFVSTCwgc2VuZFJlcXVlc3QgfSBmcm9tICcuL3NlcnZpY2VzL3JlcXVlc3QtcHJvdmlkZXJzJztcblxuZXhwb3J0IGNsYXNzIEFwcCB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5rZXkgPSAnQUl6YVN5RE1TN0o4aXV6MktKNENGc0hMM01rb2JjNk1kb0x2VjV3JztcbiAgICAgICAgdGhpcy5jdXJyU2VhcmNoUXVlcnk7XG4gICAgICAgIHRoaXMuY3VycmVudFJlc3BvbnNlT2JqID0ge307XG4gICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2VhcmNoQm94ID0gbmV3IFNlYXJjaEJveCgpO1xuICAgICAgICB0aGlzLnZpZGVvc0NvbnRhaW5lciA9IG5ldyBWaWRlb3NDb250YWluZXIoKTtcbiAgICAgICAgdGhpcy5zcGlubmVyID0gbmV3IFNwaW5uZXIoKTtcbiAgICAgICAgdGhpcy52aWRlb01vZGFsID0gbmV3IFZpZGVvTW9kYWwoKTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0RXJyb3IgPSBuZXcgUmVxdWVzdEVycm9yKCk7XG4gICAgfVxuXG4gICAgc3RhcnQoKSB7XG4gICAgICAgIGxldCBtYWluQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1haW4tY29udGFpbmVyJyk7XG4gICAgICAgIG1haW5Db250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5zZWFyY2hCb3guY3JlYXRlKCkpO1xuICAgICAgICBtYWluQ29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMudmlkZW9zQ29udGFpbmVyLmNyZWF0ZSgpKTtcbiAgICAgICAgbWFpbkNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnJlcXVlc3RFcnJvci5jcmVhdGUoKSk7XG4gICAgICAgIG1haW5Db250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy52aWRlb01vZGFsLmNyZWF0ZSgpKTtcbiAgICAgICAgbWFpbkNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnNwaW5uZXIuY3JlYXRlKCkpO1xuXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICAgICAgbGV0IHQgPSBldmVudC50YXJnZXQuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICAgICAgaWYgKHQuY2xpZW50SGVpZ2h0ICsgdC5zY3JvbGxUb3AgPT0gdC5zY3JvbGxIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNMb2FkaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlkZW9zQ29udGFpbmVyLmFkZFZpZGVvcyh0aGlzLmN1cnJlbnRSZXNwb25zZU9iaik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3Bpbm5lci5oaWRlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IHVybCA9IGNyZWF0ZVlvdVR1YmVTZWFyY2hVUkwodGhpcy5jdXJyU2VhcmNoUXVlcnksIHRoaXMua2V5LCB0aGlzLmN1cnJlbnRSZXNwb25zZU9iai5uZXh0UGFnZVRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBzZW5kUmVxdWVzdCh1cmwpLnRoZW4oKHJlc3ApID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFJlc3BvbnNlT2JqID0gcmVzcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnc2Nyb2xsJykpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChyZXNwKSA9PiB0aGlzLnJlcXVlc3RFcnJvci5zaG93RXJyb3IocmVzcC5tZXNzYWdlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNwaW5uZXIuc2hvdygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlYXJjaCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgbGV0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgICAgIGlmICh0YXJnZXQuZGF0YXNldC5pbnB1dEJ1dHRvbiA9PT0gJ3NlYXJjaCcpIHtcbiAgICAgICAgICAgICAgICBsZXQgaW5wdXRWYWx1ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnB1dC1saW5lJykudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKCEhaW5wdXRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJTZWFyY2hRdWVyeSA9IGlucHV0VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGxldCB1cmwgPSBjcmVhdGVZb3VUdWJlU2VhcmNoVVJMKHRoaXMuY3VyclNlYXJjaFF1ZXJ5LCB0aGlzLmtleSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3Bpbm5lci5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBzZW5kUmVxdWVzdCh1cmwpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UucGFnZUluZm8udG90YWxSZXN1bHRzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFdmVuIFlvdVR1YmUgZG9lc25cXCd0IGtub3cgd2hhdCB5b3Ugd2FudCA6KCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRSZXNwb25zZU9iaiA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52aWRlb3NDb250YWluZXIuYWRkVmlkZW9zKHRoaXMuY3VycmVudFJlc3BvbnNlT2JqKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VhcmNoQm94LnRyYW5zZm9ybSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3RFcnJvci5zaG93RXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zcGlubmVyLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNwaW5uZXIuaGlkZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHVybCA9IGNyZWF0ZVlvdVR1YmVTZWFyY2hVUkwodGhpcy5jdXJyU2VhcmNoUXVlcnksIHRoaXMua2V5LCB0aGlzLmN1cnJlbnRSZXNwb25zZU9iai5uZXh0UGFnZVRva2VuKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBzZW5kUmVxdWVzdCh1cmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFJlc3BvbnNlT2JqID0gcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3RFcnJvci5zaG93RXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGxldCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZG9jJyk7XG5cbiAgICAgICAgICAgIGlmICh0YXJnZXQuZGF0YXNldC5hY3RpdmUgPT09ICd2aWRlby1pdGVtJykge1xuICAgICAgICAgICAgICAgIGxldCB1cmwgPSBjcmVhdGVZb3VUdWJlU2VhcmNoVVJMKHRhcmdldC5pZCwgdGhpcy5rZXkpO1xuICAgICAgICAgICAgICAgIHRoaXMudmlkZW9Nb2RhbC52aWV3TW9kYWwodGFyZ2V0LmlkLCB0aGlzLmtleSk7XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0LmRhdGFzZXQuZGlzbWlzcyA9PT0gJ21vZGFsLWNsb3NlJykge1xuXG4gICAgICAgICAgICAgICAgdGhpcy52aWRlb01vZGFsLmNsb3NlTW9kYWwoKTtcblxuICAgICAgICAgICAgfSBlbHNlIGlmICh0YXJnZXQuZGF0YXNldC5pbnB1dEJ1dHRvbiA9PT0gJ2NsZWFyJykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGVhciB3b3JrJyk7XG4gICAgICAgICAgICAgICAgdGhpcy52aWRlb3NDb250YWluZXIuY2xlYXIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlYXJjaEJveC50cmFuc2Zvcm0oKTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQucGFyZW50RWxlbWVudC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY2xpY2snLCB7IGJ1YmJsZXM6IHRydWUsIGNhbmNlbGFibGU6IHRydWUgfSkpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRydWUpO1xuICAgIH1cbn1cblxuIl0sInNvdXJjZVJvb3QiOiIifQ==